<link rel="stylesheet" href="style.css">
<script src="lib/jquery-3.1.1.js"></script>

<header>
  <h1>MyMed</h1>
</header>

<main>

  <header>
    <div class="feature"></div>
    <div class="feature"></div>
  </header>

  <div id="app">
    <header>
       <div class="system-bar">
        <div class="left">CS422Mobile</div>

        <div class="centre">3:00</div>
         <div class="right"><span class="ion-battery-full"></span></div>
       </div>

      <div class="left">
      <span class="ion-chevron-left"></span>
      </div>
      <div id="title" align="center">My Symptoms</div>
      <div class="right">
       <span class="ion-navicon"></span>
      </div>
    </header>

    <div class="page">
      <br>
      <br>
      <br>

      <div class="container" id="symptomsContainer">
        MY Symptoms here
      </div>
    </div>

    <div class="page" id="newSymptomPage" hidden="true">
      <h2>New Symptom</h2>
      <table>
        <tr>

          <th><input type="button" name="drowsy" value="Drowsiness" onclick="submitSymptomForm('Drowsiness')"></th>
          <th><input type="button" name="fever" value="Fever" onclick="submitSymptomForm('Fever')"></th>
        </tr>
        <tr>
          <th><input type="button" name="constipation" value="Constipation" onclick="submitSymptomForm('Constipation')"></th>
          <th><input type="button" name="nausea" value="Nausea" onclick="submitSymptomForm('Nausea')"></th>
        </tr>
        <tr>
          <th><input type="button" name="rash" value="Skin Rash" onclick="submitSymptomForm('Skin Rash')"></th>
          <th><input type="button" name="headache" value="Headache" onclick="submitSymptomForm('Headache')"></th>

        </tr>
      </table>

      <h3>Don't See Your Symptom? </h3>
      <input type="text" id="otherSymp" name="otherSymp" value="Enter it Here">
      <input type="button" name="Save" value="Save" onclick="submitManualForm()">
    </div>

    <footer align="center">
      <div id="landingFooter">
        <a href="Symptoms.html"><input type="button" name="Back" value="Back"></a>
        <a href="index.html"><input type="button" name="Home" value="Home"></a>
        <input onclick="addSymptomForm()" type="button" name="Add" value="Add">
      </div>

      <div id="newSymptomFooter" hidden="true">
        <a href="index.html"><input type="button" name="Home" value="Home"></a>
      </div>
    </footer>

  </div>

  <footer id="SymptomsFooter">
    <div class="feature"></div>
  </footer>

</main>

<script src="knownMedicine.js"></script>
<script src="medicine.js"></script>
<script src="symptoms.js"></script>

<script>
  // Reads medicine from local storage and shows it on the page.
  function showSymptoms() {
    $("#symptomsContainer").removeAttr("hidden")
    $("#landingFooter").removeAttr("hidden")

    document.getElementById("newSymptomPage").setAttribute("hidden", "true")
    document.getElementById("newSymptomFooter").setAttribute("hidden","true")

    container = document.getElementById("symptomsContainer")
    container.innerHTML = ""
    for (symptom in getSymptoms()) {
      console.log(symptom)
      container.innerHTML += "<div class='row' align='center'> <input type='button' class='medButton' name='" + symptom +"' value='" + symptom + "' id = '"+ symptom +"'> </div><br>"
    }
  }

  function addSymptomForm(){
    document.getElementById("symptomsContainer").setAttribute("hidden", "true")
    document.getElementById("landingFooter").setAttribute("hidden","true")

    $("#newSymptomPage").removeAttr("hidden")
    $("#newSymptomFooter").removeAttr("hidden")
  }

  function submitManualForm() {
    submitSymptomForm(document.getElementById("otherSymp").value)
  }

  function submitSymptomForm(sym){
    console.log(sym)
    addSymptom(sym)
    showSymptoms()
  }

  //load and display medications that can have symptoms
  loadMySymptoms()
  showSymptoms()

</script>
