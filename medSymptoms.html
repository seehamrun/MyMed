<link rel="stylesheet" href="style.css">


<header>
  <h1>MyMed</h1>
</header>

<main>

  <header>
    <div class="feature"></div>
    <div class="feature"></div>
  </header>

  <div id="app">
    <header>
       <div class="system-bar">
        <div class="left">CS422Mobile</div>

        <div class="centre">3:00</div>
         <div class="right"><span class="ion-battery-full"></span></div>
       </div>

      <div class="left">
      <span class="ion-chevron-left"></span>
      </div>
      <div id="title" align="center">Symptoms</div>
      <div class="right">
       <span class="ion-navicon"></span>
      </div>
    </header>

    <div class="page">

      <div class="container" id="symptomsContainer">

      //make div for symptoms info for each medicine
      </div>

    </div>

    <footer align="center" id="SymptomsContainer">
      <div id="landingFooter">
        <a href="home.html"><input type="button" name="Home" value="Home"></a>
        <a href="Symptoms.html"><input type="button" name="Back" value="Back"></a>
      </div>
      <div id="medicineInfoFooter" hidden="true">
       <button id='exitMedicineInfoView' name='exit'>✔️</button>
      </div>
    </footer>

  </div>

  <footer>
    <div class="feature"></div>
  </footer>

</main>

<script src="knownMedicine.js"></script>
<script src="medicine.js"></script>
<script>
  // Reads medicine from local storage and shows it on the page.
  function showMedicine() {

    container = document.getElementById("symptomsContainer")
    container.innerHTML = ""
    for (medicine in getMedicine()) {
      console.log(medicine)
      container.innerHTML += "<div class='row' align='center'> <input type='button' class='medButton' onClick='displaySymptom()' name='" + medicine +"' value='" + medicine + "' id = '"+ medicine +"'> </div><br>"

    }
  }

  function showSymptomInfo(medicine){
    // hide the medicine page and the new medicine form and footer
    document.getElementById("SymptomsContainer").setAttribute("hidden", "true")
    document.getElementById("SymptomsPageFooter").setAttribute("hidden", "true")


    // show the medicine info form
    $("#medicineInfoPage").removeAttr("hidden")
    $("#medicineInfoFooter").removeAttr("hidden")
    medicineInfo = getMedicineInfo(medicine)
    html = "<div class = 'medInfo'><h2>" + medicine + "</h2> <br>"
    html += "<b> Symptoms </b>" + medicineInfo["SideEffects"] + "<br> </div>"

    $("#medicineInfoPage").html(html)
    console.log(medicineInfo)
  }

  //load and display medications that can have symptoms
  loadMedicine()
  showMedicine()

</script>
